(export (version D)
  (design
    (source /Users/jarl/ownCloud/Documents/pcb/SmartPlug/SmartPlug.sch)
    (date "2018 November 08, Thursday 18:32:48")
    (tool "Eeschema (5.0.0-3-g5ebb6b6)")
    (sheet (number 1) (name /) (tstamps /)
      (title_block
        (title)
        (company)
        (rev)
        (date)
        (source SmartPlug.sch)
        (comment (number 1) (value ""))
        (comment (number 2) (value ""))
        (comment (number 3) (value ""))
        (comment (number 4) (value "")))))
  (components
    (comp (ref U2)
      (value ESP32-PICO-KIT)
      (footprint SmartPlug:ESP32-PICO-KIT)
      (libsource (lib SmartPlug) (part ESP32-PICO-KIT) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7C02D7))
    (comp (ref C1)
      (value "X2 150n")
      (footprint Capacitor_THT:C_Axial_L12.0mm_D6.5mm_P15.00mm_Horizontal)
      (datasheet ~)
      (libsource (lib Device) (part C) (description "Unpolarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7C0430))
    (comp (ref R2)
      (value 383k)
      (footprint Resistor_SMD:R_1206_3216Metric_Pad1.42x1.75mm_HandSolder)
      (datasheet ~)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7C050C))
    (comp (ref R1)
      (value 383k)
      (footprint Resistor_SMD:R_1206_3216Metric_Pad1.42x1.75mm_HandSolder)
      (datasheet ~)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7C0584))
    (comp (ref R4)
      (value "100 1W")
      (footprint Resistor_THT:R_Axial_DIN0414_L11.9mm_D4.5mm_P15.24mm_Horizontal)
      (datasheet ~)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7C05AD))
    (comp (ref D1)
      (value D_Bridge)
      (footprint Diode_SMD:Diode_Bridge_Vishay_DFS)
      (datasheet ~)
      (libsource (lib Device) (part D_Bridge_+-AA) (description "Diode bridge (pins: 1=+, 2=-, 3=AC, 4=AC)"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7C078B))
    (comp (ref R3)
      (value "100 1W")
      (footprint Resistor_THT:R_Axial_DIN0414_L11.9mm_D4.5mm_P15.24mm_Horizontal)
      (datasheet ~)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7C07F8))
    (comp (ref C2)
      (value 47u)
      (footprint Capacitor_SMD:CP_Elec_10x10)
      (datasheet ~)
      (libsource (lib Device) (part CP) (description "Polarised capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7C0ACF))
    (comp (ref D2)
      (value "68V Zener")
      (footprint Diode_SMD:D_SMA_Handsoldering)
      (datasheet ~)
      (libsource (lib Device) (part D_Zener) (description "Zener Diode"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7C0C06))
    (comp (ref C3)
      (value 100n)
      (footprint Capacitor_SMD:C_1206_3216Metric_Pad1.42x1.75mm_HandSolder)
      (datasheet ~)
      (libsource (lib Device) (part C) (description "Unpolarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7C0F00))
    (comp (ref C4)
      (value 100n)
      (footprint Capacitor_SMD:C_1206_3216Metric_Pad1.42x1.75mm_HandSolder)
      (datasheet ~)
      (libsource (lib Device) (part C) (description "Unpolarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7C0F6A))
    (comp (ref U3)
      (value MOC3021M)
      (footprint Package_DIP:DIP-6_W8.89mm_SMDSocket_LongPads)
      (datasheet http://www.fairchildsemi.com/ds/MO/MOC3020M.pdf)
      (libsource (lib Relay_SolidState) (part MOC3021M) (description "Random Phase Opto-Triac, Vdrm 400V, Ift 15mA, DIP6"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7E91E4))
    (comp (ref R5)
      (value 100)
      (footprint Resistor_SMD:R_1206_3216Metric_Pad1.42x1.75mm_HandSolder)
      (datasheet ~)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7E9265))
    (comp (ref Q1)
      (value "BTA 12/600SW")
      (footprint Package_TO_SOT_THT:TO-220-3_Vertical)
      (datasheet http://www.nxp.com/documents/data_sheet/BT138_SER_D_E.pdf)
      (libsource (lib Triac_Thyristor) (part BT138-600) (description "12A RMS, 600V Off-State Voltage, Triac, TO-220"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5B7EDDED))
    (comp (ref U1)
      (value MAX5033AUSA)
      (footprint Package_SO:SOIC-8_3.9x4.9mm_P1.27mm)
      (datasheet http://datasheets.maximintegrated.com/en/ds/MAX5035.pdf)
      (libsource (lib Regulator_Switching) (part MAX5035AUSA) (description "1A, High-Efficiency Step-Down DC-DC Converter, 3.3V fixed output voltage, Vin 76V, SO-8"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BD787A1))
    (comp (ref C5)
      (value 33u)
      (footprint Capacitor_SMD:C_1206_3216Metric_Pad1.42x1.75mm_HandSolder)
      (datasheet ~)
      (libsource (lib Device) (part C) (description "Unpolarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BD7891E))
    (comp (ref L1)
      (value 200u)
      (footprint Inductor_SMD:L_Coilcraft_LPS4018)
      (datasheet ~)
      (libsource (lib Device) (part L) (description Inductor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BD78D82))
    (comp (ref R6)
      (value 180)
      (footprint Resistor_SMD:R_1206_3216Metric_Pad1.42x1.75mm_HandSolder)
      (datasheet ~)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BD8CFCC))
    (comp (ref J1)
      (value Conn_WallSocket)
      (footprint SmartPlug:230V_OUT)
      (datasheet ~)
      (libsource (lib Connector) (part Conn_WallSocket) (description "3-pin german wall socket, no Earth wire (110VAC, 220VAC)"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BD93F43))
    (comp (ref D3)
      (value D_Schottky)
      (footprint Diode_SMD:D_SOD-123)
      (datasheet ~)
      (libsource (lib Device) (part D_Schottky) (description "Schottky diode"))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BDABD4B))
    (comp (ref R7)
      (value 1M)
      (footprint Resistor_SMD:R_1206_3216Metric_Pad1.42x1.75mm_HandSolder)
      (datasheet ~)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BE447D1))
    (comp (ref R8)
      (value 100k)
      (footprint Resistor_SMD:R_1206_3216Metric_Pad1.42x1.75mm_HandSolder)
      (datasheet ~)
      (libsource (lib Device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 5BE4482B)))
  (libparts
    (libpart (lib Connector) (part Conn_WallSocket)
      (description "3-pin german wall socket, no Earth wire (110VAC, 220VAC)")
      (docs ~)
      (fields
        (field (name Reference) J)
        (field (name Value) Conn_WallSocket))
      (pins
        (pin (num 1) (name AC_P) (type power_in))
        (pin (num 2) (name AC_N) (type power_in))))
    (libpart (lib Device) (part C)
      (description "Unpolarized capacitor")
      (docs ~)
      (footprints
        (fp C_*))
      (fields
        (field (name Reference) C)
        (field (name Value) C))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib Device) (part CP)
      (description "Polarised capacitor")
      (docs ~)
      (footprints
        (fp CP_*))
      (fields
        (field (name Reference) C)
        (field (name Value) CP))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib Device) (part D_Bridge_+-AA)
      (description "Diode bridge (pins: 1=+, 2=-, 3=AC, 4=AC)")
      (docs ~)
      (footprints
        (fp D*Bridge*)
        (fp D*Rectifier*))
      (fields
        (field (name Reference) D)
        (field (name Value) D_Bridge_+-AA))
      (pins
        (pin (num 1) (name +) (type passive))
        (pin (num 2) (name -) (type passive))
        (pin (num 3) (name ~~) (type passive))
        (pin (num 4) (name ~~) (type passive))))
    (libpart (lib Device) (part D_Schottky)
      (description "Schottky diode")
      (docs ~)
      (footprints
        (fp TO-???*)
        (fp *_Diode_*)
        (fp *SingleDiode*)
        (fp D_*))
      (fields
        (field (name Reference) D)
        (field (name Value) D_Schottky))
      (pins
        (pin (num 1) (name K) (type passive))
        (pin (num 2) (name A) (type passive))))
    (libpart (lib Device) (part D_Zener)
      (description "Zener Diode")
      (docs ~)
      (footprints
        (fp TO-???*)
        (fp *_Diode_*)
        (fp *SingleDiode*)
        (fp D_*))
      (fields
        (field (name Reference) D)
        (field (name Value) D_Zener))
      (pins
        (pin (num 1) (name K) (type passive))
        (pin (num 2) (name A) (type passive))))
    (libpart (lib Device) (part L)
      (description Inductor)
      (docs ~)
      (footprints
        (fp Choke_*)
        (fp *Coil*)
        (fp Inductor_*)
        (fp L_*))
      (fields
        (field (name Reference) L)
        (field (name Value) L))
      (pins
        (pin (num 1) (name 1) (type passive))
        (pin (num 2) (name 2) (type passive))))
    (libpart (lib Device) (part R)
      (description Resistor)
      (docs ~)
      (footprints
        (fp R_*))
      (fields
        (field (name Reference) R)
        (field (name Value) R))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib Regulator_Switching) (part MAX5035AUSA)
      (aliases
        (alias MAX5035BUSA)
        (alias MAX5035CUSA)
        (alias MAX5035DUSA)
        (alias MAX5035EUSA))
      (description "1A, High-Efficiency Step-Down DC-DC Converter, 3.3V fixed output voltage, Vin 76V, SO-8")
      (docs http://datasheets.maximintegrated.com/en/ds/MAX5035.pdf)
      (footprints
        (fp SOIC*3.9x4.9mm*P1.27mm*))
      (fields
        (field (name Reference) U)
        (field (name Value) MAX5035AUSA)
        (field (name Footprint) Package_SO:SOIC-8_3.9x4.9mm_P1.27mm))
      (pins
        (pin (num 1) (name BST) (type passive))
        (pin (num 2) (name VD) (type passive))
        (pin (num 3) (name SGND) (type power_in))
        (pin (num 4) (name FB) (type input))
        (pin (num 5) (name ON/~OFF~) (type input))
        (pin (num 6) (name GND) (type power_in))
        (pin (num 7) (name VIN) (type power_in))
        (pin (num 8) (name LX) (type output))))
    (libpart (lib Relay_SolidState) (part MOC3010M)
      (aliases
        (alias MOC3011M)
        (alias MOC3012M)
        (alias MOC3020M)
        (alias MOC3021M)
        (alias MOC3022M)
        (alias MOC3023M)
        (alias MOC3051M)
        (alias MOC3052M))
      (description "Random Phase Opto-Triac, Vdrm 250V, Ift 15mA, DIP6")
      (docs http://www.fairchildsemi.com/ds/MO/MOC3020M.pdf)
      (footprints
        (fp DIP*W7.62mm*)
        (fp SMDIP*W9.53mm*)
        (fp DIP*W10.16mm*))
      (fields
        (field (name Reference) U)
        (field (name Value) MOC3010M))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))
        (pin (num 3) (name NC) (type NotConnected))
        (pin (num 4) (name ~) (type passive))
        (pin (num 5) (name NC) (type NotConnected))
        (pin (num 6) (name ~) (type passive))))
    (libpart (lib SmartPlug) (part ESP32-PICO-KIT)
      (fields
        (field (name Reference) U)
        (field (name Value) ESP32-PICO-KIT))
      (pins
        (pin (num 1) (name FSD1) (type input))
        (pin (num 2) (name FSD3) (type input))
        (pin (num 3) (name FCLK) (type input))
        (pin (num 4) (name IO21) (type input))
        (pin (num 5) (name IO22) (type input))
        (pin (num 6) (name IO19) (type input))
        (pin (num 7) (name IO23) (type input))
        (pin (num 8) (name IO18) (type input))
        (pin (num 9) (name IO5) (type input))
        (pin (num 10) (name IO10) (type input))
        (pin (num 11) (name IO9) (type input))
        (pin (num 12) (name RXD0) (type input))
        (pin (num 13) (name TXD0) (type input))
        (pin (num 14) (name IO35) (type input))
        (pin (num 15) (name IO34) (type input))
        (pin (num 16) (name IO38) (type input))
        (pin (num 17) (name IO37) (type input))
        (pin (num 18) (name EN) (type input))
        (pin (num 19) (name GND) (type input))
        (pin (num 20) (name VDD33) (type input))
        (pin (num 21) (name FCS) (type input))
        (pin (num 22) (name FSD0) (type input))
        (pin (num 23) (name FSD2) (type input))
        (pin (num 24) (name FSVP) (type input))
        (pin (num 25) (name FSVN) (type input))
        (pin (num 26) (name IO25) (type input))
        (pin (num 27) (name IO26) (type input))
        (pin (num 28) (name IO32) (type input))
        (pin (num 29) (name IO33) (type input))
        (pin (num 30) (name IO27) (type input))
        (pin (num 31) (name IO14) (type input))
        (pin (num 32) (name IO12) (type input))
        (pin (num 33) (name IO13) (type input))
        (pin (num 34) (name IO15) (type input))
        (pin (num 35) (name IO2) (type input))
        (pin (num 36) (name IO4) (type input))
        (pin (num 37) (name IO0) (type input))
        (pin (num 38) (name VDD33) (type input))
        (pin (num 39) (name GND) (type input))
        (pin (num 40) (name EXT_5V) (type input))))
    (libpart (lib Triac_Thyristor) (part TIC226)
      (aliases
        (alias TIC206)
        (alias BT138-600)
        (alias BT138-800)
        (alias TIC216)
        (alias BT136-500)
        (alias BT136-600)
        (alias BT136-800)
        (alias BT139-600))
      (description "8A RMS, 400-800V Off-State Voltage, Triac, TO-220")
      (docs http://pdf.datasheetcatalog.com/datasheet/PowerInnovations/mXuqxvy.pdf)
      (footprints
        (fp TO?220*))
      (fields
        (field (name Reference) Q)
        (field (name Value) TIC226)
        (field (name Footprint) Package_TO_SOT_THT:TO-220-3_Vertical))
      (pins
        (pin (num 1) (name A1) (type passive))
        (pin (num 2) (name A2) (type passive))
        (pin (num 3) (name G) (type input)))))
  (libraries
    (library (logical Connector)
      (uri "/Library/Application Support/kicad/library/Connector.lib"))
    (library (logical Device)
      (uri "/Library/Application Support/kicad/library/Device.lib"))
    (library (logical Regulator_Switching)
      (uri "/Library/Application Support/kicad/library/Regulator_Switching.lib"))
    (library (logical Relay_SolidState)
      (uri "/Library/Application Support/kicad/library/Relay_SolidState.lib"))
    (library (logical SmartPlug)
      (uri /Users/jarl/ownCloud/Documents/pcb/SmartPlug/SmartPlug.lib))
    (library (logical Triac_Thyristor)
      (uri "/Library/Application Support/kicad/library/Triac_Thyristor.lib")))
  (nets
    (net (code 1) (name "Net-(U2-Pad1)")
      (node (ref U2) (pin 1)))
    (net (code 2) (name "Net-(U2-Pad10)")
      (node (ref U2) (pin 10)))
    (net (code 3) (name "Net-(U2-Pad11)")
      (node (ref U2) (pin 11)))
    (net (code 4) (name "Net-(U2-Pad12)")
      (node (ref U2) (pin 12)))
    (net (code 5) (name "Net-(U2-Pad13)")
      (node (ref U2) (pin 13)))
    (net (code 6) (name "Net-(U2-Pad14)")
      (node (ref U2) (pin 14)))
    (net (code 7) (name "Net-(U2-Pad15)")
      (node (ref U2) (pin 15)))
    (net (code 8) (name "Net-(U2-Pad16)")
      (node (ref U2) (pin 16)))
    (net (code 9) (name "Net-(U2-Pad17)")
      (node (ref U2) (pin 17)))
    (net (code 10) (name "Net-(U2-Pad18)")
      (node (ref U2) (pin 18)))
    (net (code 11) (name "Net-(U2-Pad2)")
      (node (ref U2) (pin 2)))
    (net (code 12) (name "Net-(U2-Pad21)")
      (node (ref U2) (pin 21)))
    (net (code 13) (name "Net-(U2-Pad22)")
      (node (ref U2) (pin 22)))
    (net (code 14) (name "Net-(U2-Pad23)")
      (node (ref U2) (pin 23)))
    (net (code 15) (name "Net-(U2-Pad24)")
      (node (ref U2) (pin 24)))
    (net (code 16) (name "Net-(U2-Pad25)")
      (node (ref U2) (pin 25)))
    (net (code 17) (name "Net-(U2-Pad26)")
      (node (ref U2) (pin 26)))
    (net (code 18) (name "Net-(U2-Pad27)")
      (node (ref U2) (pin 27)))
    (net (code 19) (name "Net-(U2-Pad28)")
      (node (ref U2) (pin 28)))
    (net (code 20) (name "Net-(R5-Pad2)")
      (node (ref R5) (pin 2))
      (node (ref U2) (pin 29)))
    (net (code 21) (name "Net-(U2-Pad3)")
      (node (ref U2) (pin 3)))
    (net (code 22) (name "Net-(U2-Pad30)")
      (node (ref U2) (pin 30)))
    (net (code 23) (name "Net-(U2-Pad31)")
      (node (ref U2) (pin 31)))
    (net (code 24) (name "Net-(U2-Pad32)")
      (node (ref U2) (pin 32)))
    (net (code 25) (name "Net-(U2-Pad33)")
      (node (ref U2) (pin 33)))
    (net (code 26) (name "Net-(U2-Pad34)")
      (node (ref U2) (pin 34)))
    (net (code 27) (name "Net-(U2-Pad35)")
      (node (ref U2) (pin 35)))
    (net (code 28) (name "Net-(U2-Pad36)")
      (node (ref U2) (pin 36)))
    (net (code 29) (name "Net-(U2-Pad37)")
      (node (ref U2) (pin 37)))
    (net (code 30) (name +3V3)
      (node (ref U2) (pin 20))
      (node (ref U2) (pin 38))
      (node (ref U1) (pin 4))
      (node (ref C5) (pin 1))
      (node (ref L1) (pin 2)))
    (net (code 31) (name "Net-(U2-Pad4)")
      (node (ref U2) (pin 4)))
    (net (code 32) (name "Net-(U2-Pad40)")
      (node (ref U2) (pin 40)))
    (net (code 33) (name "Net-(U2-Pad5)")
      (node (ref U2) (pin 5)))
    (net (code 34) (name "Net-(U2-Pad6)")
      (node (ref U2) (pin 6)))
    (net (code 35) (name "Net-(U2-Pad7)")
      (node (ref U2) (pin 7)))
    (net (code 36) (name "Net-(U2-Pad8)")
      (node (ref U2) (pin 8)))
    (net (code 37) (name "Net-(U2-Pad9)")
      (node (ref U2) (pin 9)))
    (net (code 38) (name AC)
      (node (ref C1) (pin 2))
      (node (ref J1) (pin 1))
      (node (ref R1) (pin 2)))
    (net (code 39) (name "Net-(C1-Pad1)")
      (node (ref D1) (pin 3))
      (node (ref R2) (pin 1))
      (node (ref C1) (pin 1)))
    (net (code 40) (name "Net-(R1-Pad1)")
      (node (ref R1) (pin 1))
      (node (ref R2) (pin 2)))
    (net (code 41) (name NEUT)
      (node (ref Q1) (pin 1))
      (node (ref R4) (pin 2)))
    (net (code 42) (name "Net-(D1-Pad1)")
      (node (ref D1) (pin 1))
      (node (ref R3) (pin 2)))
    (net (code 43) (name Earth)
      (node (ref U2) (pin 39))
      (node (ref U3) (pin 2))
      (node (ref U2) (pin 19))
      (node (ref R8) (pin 1))
      (node (ref D1) (pin 2))
      (node (ref U1) (pin 3))
      (node (ref C2) (pin 2))
      (node (ref U1) (pin 6))
      (node (ref D2) (pin 2))
      (node (ref D3) (pin 2))
      (node (ref C5) (pin 2))
      (node (ref C3) (pin 2)))
    (net (code 44) (name "Net-(D1-Pad4)")
      (node (ref D1) (pin 4))
      (node (ref R4) (pin 1)))
    (net (code 45) (name "Net-(C3-Pad1)")
      (node (ref U1) (pin 2))
      (node (ref C3) (pin 1)))
    (net (code 46) (name "Net-(C4-Pad1)")
      (node (ref U1) (pin 1))
      (node (ref C4) (pin 1)))
    (net (code 47) (name "Net-(U3-Pad3)")
      (node (ref U3) (pin 3)))
    (net (code 48) (name "Net-(Q1-Pad3)")
      (node (ref U3) (pin 4))
      (node (ref Q1) (pin 3)))
    (net (code 49) (name "Net-(U3-Pad5)")
      (node (ref U3) (pin 5)))
    (net (code 50) (name "Net-(R5-Pad1)")
      (node (ref R5) (pin 1))
      (node (ref U3) (pin 1)))
    (net (code 51) (name /+68V)
      (node (ref C2) (pin 1))
      (node (ref R3) (pin 1))
      (node (ref R7) (pin 2))
      (node (ref D2) (pin 1))
      (node (ref U1) (pin 7)))
    (net (code 52) (name "Net-(C4-Pad2)")
      (node (ref L1) (pin 1))
      (node (ref C4) (pin 2))
      (node (ref U1) (pin 8))
      (node (ref D3) (pin 1)))
    (net (code 53) (name "Net-(J1-Pad2)")
      (node (ref Q1) (pin 2))
      (node (ref R6) (pin 1))
      (node (ref J1) (pin 2)))
    (net (code 54) (name "Net-(R6-Pad2)")
      (node (ref U3) (pin 6))
      (node (ref R6) (pin 2)))
    (net (code 55) (name "Net-(R7-Pad1)")
      (node (ref R8) (pin 2))
      (node (ref U1) (pin 5))
      (node (ref R7) (pin 1)))))